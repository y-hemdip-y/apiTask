<div class="main-container" [class.list-faded]="isOverlayOpen">
  <!-- Create Role Button -->
   <div class="header-actions">
    <!-- Search Bar on Left -->
    <input
      type="text"
      class="search-input"
      placeholder="Search roles..."
      [(ngModel)]="searchTerm"
      (input)="getFilteredRoles()"
    />

    <!-- Create Role Button on Right -->
    <button class="btn-primary" (click)="openRoleForm()">Create Role</button>
  </div>
  <!-- Roles Table -->
  <table class="roles-table">
    <thead>
      <tr>
        <th>Role Name</th>
        <th>Description</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let role of filteredRoles">
        <td>{{ role.role_name }}</td>
        <td>{{ role.description || 'No description' }}</td>
        <td>
          <button class="btn-edit" (click)="openRoleForm(role)">Edit</button>
        </td>
        <td>
          <button class="btn-delete" (click)="deleteRole(role.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Overlay Curtain Form -->
<div class="overlay-curtain" *ngIf="isOverlayOpen">
  <div class="overlay-frame">
    <div class="overlay-header">
      <h3>{{ editingRoleId ? 'Update Role' : 'Create Role' }}</h3>
      <button class="close-btn" (click)="closeRoleForm()">âœ–</button>
    </div>

    <form (ngSubmit)="submitRole()" class="overlay-form">
      <div class="form-group">
        <label>Role Name:</label>
        <input type="text" [(ngModel)]="roleName" name="roleName" required />
      </div>

      <div class="form-group">
        <label>Description:</label>
        <input type="text" [(ngModel)]="description" name="description" />
      </div>

      <div class="modal-actions">
        <button type="submit" class="btn-primary">{{ editingRoleId ? 'Update' : 'Create' }}</button>
        <button type="button" class="btn-secondary" (click)="closeRoleForm()">Cancel</button>
      </div>
    </form>
  </div>
</div>
